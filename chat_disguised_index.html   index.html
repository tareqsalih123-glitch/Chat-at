<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø­Ù…ÙŠØ© â€” ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø§Ù„Ùƒ ÙˆØ­ÙØ¸ Ø§Ù„ØµÙˆØ±</title>
  <style>
    body{margin:0;font-family:Tahoma,Arial,sans-serif;background:#f0f0f0;color:#111}
    header{background:#4CAF50;color:white;text-align:center;padding:10px;font-size:20px;font-weight:bold}
    .gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:10px;padding:10px}
    .photo{width:100%;height:180px;border-radius:8px;overflow:hidden;position:relative;background:#ddd}
    .photo img{width:100%;height:100%;object-fit:cover;display:block;user-select:none;-webkit-user-drag:none}
    .menu-icon{position:fixed;top:10px;left:10px;background:white;border-radius:50%;width:44px;height:44px;display:flex;justify-content:center;align-items:center;box-shadow:0 2px 6px rgba(0,0,0,0.2);cursor:pointer;z-index:50}
    .menu{display:none;position:fixed;top:64px;left:10px;background:white;padding:10px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.3);z-index:50}
    .menu a{display:block;color:#333;text-decoration:none;padding:8px;border-radius:5px}
    .menu a:hover{background:#eee}

    .blackout{position:fixed;inset:0;background:#000;opacity:1;z-index:9999;display:none;align-items:center;justify-content:center;color:#fff;font-size:18px}

    .chat-container{width:100%;max-width:820px;height:88vh;background:#fff;display:flex;flex-direction:column;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,0.1)}
    .chat-header{background:#1877f2;color:#fff;padding:12px;text-align:center;font-weight:bold;display:flex;justify-content:space-between;align-items:center}
    .messages{flex:1;overflow-y:auto;padding:12px;background:#f7f7f7;display:flex;flex-direction:column;gap:8px}
    .msg{padding:8px;border-radius:10px;max-width:75%;position:relative}
    .me{background:#dcf8c6;margin-left:auto}
    .other{background:#fff;margin-right:auto}
    .msg .meta{font-size:11px;color:#666;margin-bottom:6px}
    .msg .actions{position:absolute;left:6px;top:6px;font-size:12px;display:flex;gap:6px}
    .input-area{display:flex;padding:8px;background:#f0f0f0;gap:6px}
    .input-area input{flex:1;padding:8px;border:1px solid #ccc;border-radius:20px;outline:none}
    .input-area button{background:#1877f2;color:white;border:none;padding:8px 12px;border-radius:20px;cursor:pointer}
    .small{font-size:12px;color:#666}
    .owner-badge{font-size:12px;color:#fff;background:#2b8a3e;padding:4px 8px;border-radius:8px}

    /* Ù…Ù†Ø¹ Ø§Ù„ØªØ­Ø¯ÙŠØ¯ ÙˆØ§Ù„Ù†Ù‚Ø± Ø§Ù„Ø£ÙŠÙ…Ù† */
    body, img { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
  </style>
</head>
<body>
  <header>Ù…Ù†Ø§Ø¸Ø± Ø·Ø¨ÙŠØ¹ÙŠØ©</header>

  <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© -->
  <div class="menu-icon" id="menuBtn" title="Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">â˜°</div>

  <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <div class="menu" id="menu">
    <a href="#" id="goToChat">ğŸ”’ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø³Ø±ÙŠØ©</a>
    <a href="#" id="showOwnerLogin">ğŸ”‘ (Ù…Ø§Ù„Ùƒ) ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
    <div id="ownerActions" class="hidden">
      <a href="#" id="changeCode">ØªØºÙŠÙŠØ± Ø±Ù…Ø² Ø§Ù„ØºØ±ÙØ©</a>
      <a href="#" id="revokeShare">Ø¥Ø¨Ø·Ø§Ù„ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ÙƒÙˆØ¯</a>
      <a href="#" id="downloadSaved">â¬‡ï¸ ØªÙ†Ø²ÙŠÙ„ ÙƒÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© (Ù…Ø§Ù„Ùƒ)</a>
    </div>
  </div>

  <!-- Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ -->
  <div class="gallery" id="gallery">
    <div class="photo"><img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80" alt="Ø·Ø¨ÙŠØ¹Ø©"></div>
    <div class="photo"><img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=800&q=80" alt="ØºØ§Ø¨Ø©"></div>
    <div class="photo"><img src="https://images.unsplash.com/photo-1491553895911-0055eca6402d?auto=format&fit=crop&w=800&q=80" alt="Ø´Ù„Ø§Ù„"></div>
    <div class="photo"><img src="https://images.unsplash.com/photo-1470770841072-f978cf4d019e?auto=format&fit=crop&w=800&q=80" alt="Ø¨Ø­ÙŠØ±Ø©"></div>
    <div class="photo"><img src="https://images.unsplash.com/photo-1518837695005-2083093ee35b?auto=format&fit=crop&w=800&q=80" alt="ØµØ­Ø±Ø§Ø¡"></div>
  </div>

  <!-- Ø´Ø§Ø´Ø© Ø³ÙˆØ¯Ø§Ø¡ Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ù„Ù‚Ø·Ø§Øª -->
  <div class="blackout" id="blackout">Ø§Ù„Ø´Ø§Ø´Ø© Ù…Ø®ÙÙŠØ© Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</div>

  <script>
    // ---------- Ù…ÙØ§ØªÙŠØ­ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ ----------
    const LS_CHAT_CODE = 'chatCode_v3';  // Ø±Ù…Ø² Ø§Ù„ØºØ±ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø¯Ø®ÙˆÙ„
    const LS_OWNER_KEY = 'chatOwnerKey_v3';  // ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø§Ù„Ùƒ
    const LS_LOCK_CODE = 'lockCode_v3'; // Ø±Ù…Ø² Ø§Ù„Ù‚ÙÙ„ Ø§Ù„Ø´Ø®ØµÙŠ Ù„ÙƒÙ„ Ù…Ø­Ø§Ø¯Ø«Ø©
    const LS_MESSAGES = 'chat_messages_v3'; // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
    const LS_OWNER_SAVED = 'owner_saved_images_v3'; // Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù„Ù…Ø§Ù„Ùƒ

    // ---------- ØªÙˆÙ„ÙŠØ¯ Ø£Ùˆ Ù‚Ø±Ø§Ø¡Ø© Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø­Ù„ÙŠ ----------
    let userId = localStorage.getItem('chat_user_id');
    if(!userId){
      // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ Ù…Ø¹Ø±Ù Ù…Ø³Ø¨Ù‚ØŒ Ù†ÙˆÙ„Ù‘Ø¯ ÙˆØ§Ø­Ø¯ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
      userId = 'u_' + Math.random().toString(36).slice(2,9);
      localStorage.setItem('chat_user_id', userId);
    }

    // ---------- Ø¥Ø¹Ø¯Ø§Ø¯ Ø±Ù…Ø² Ø§Ù„ØºØ±ÙØ© ----------
    let chatCode = 'TAREQ2007@'; // Ø±Ù…Ø² Ø§Ù„Ù…Ø§Ù„Ùƒ Ø«Ø§Ø¨Øª
    localStorage.setItem(LS_CHAT_CODE, chatCode);

    // ---------- Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ----------
    let ownerKey = localStorage.getItem(LS_OWNER_KEY);
    if(!ownerKey){
      // ÙÙŠ Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ØŒ ÙŠØ·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…Ø§Ù„Ùƒ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
      ownerKey = prompt('Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø§Ù„Ùƒ Ù„ØªÙ…ÙƒÙŠÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ù…Ø§ÙŠØ© (Ø§Ø­ØªÙØ¸ Ø¨Ù‡Ø§ Ø³Ø±ÙŠØ§):');
      if(ownerKey){
        localStorage.setItem(LS_OWNER_KEY, ownerKey);
        alert('ØªÙ… ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø§Ù„Ùƒ.');
      }
    }

    // ---------- Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ----------
    const menuBtn = document.getElementById('menuBtn'); // Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    const menu = document.getElementById('menu'); // Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
    const goToChat = document.getElementById('goToChat'); // Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
    const showOwnerLogin = document.getElementById('showOwnerLogin'); // Ø±Ø§Ø¨Ø· ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø§Ù„Ùƒ
    const ownerActions = document.getElementById('ownerActions'); // Ù‚Ø§Ø¦Ù…Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø§Ù„Ùƒ
    const changeCodeLink = document.getElementById('changeCode'); // ØªØºÙŠÙŠØ± Ø±Ù…Ø² Ø§Ù„ØºØ±ÙØ©
    const revokeShare = document.getElementById('revokeShare'); // Ø¥Ø¨Ø·Ø§Ù„ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ÙƒÙˆØ¯
    const downloadSaved = document.getElementById('downloadSaved'); // ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
    const blackout = document.getElementById('blackout'); // Ø´Ø§Ø´Ø© Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø®ØµÙˆØµÙŠØ©

    // ---------- Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø¥Ø¸Ù‡Ø§Ø± ÙˆØ¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ----------
    menuBtn.onclick = ()=>{
      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ø±Ø¦ÙŠØ©ØŒ Ø§Ø®ÙÙ‡Ø§ØŒ ÙˆØ¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø®ÙÙŠØ©ØŒ Ø£Ø¸Ù‡Ø±Ù‡Ø§
      menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    }

    // ---------- Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø© ----------
    // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù‡Ù†Ø§ Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ØŒ Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±ØŒ ØªØ­Ø¯ÙŠØ« Ø±Ù…Ø² Ø§Ù„ØºØ±ÙØ©ØŒ
    // Ù…Ù†Ø¹ Ù„Ù‚Ø·Ø© Ø§Ù„Ø´Ø§Ø´Ø© Ø£Ùˆ Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± ÙÙŠ Ø­Ø§Ù„Ø© Ø§ÙƒØªØ´Ø§ÙÙ‡Ø§.

  </script>
</body>
</html>
